<div class="container">
  <mat-card class="example-card my-2">

    <div class="row ">
      <div class="col align-self-start ">
        <mat-card-title-group>
          <mat-card-title>{{detalleTablero.titulo}}</mat-card-title>
          <mat-card-subtitle>{{detalleTablero.descripcion}}</mat-card-subtitle>
        </mat-card-title-group>
      </div>
      <div class="col-auto p-0 me-2 ">

      </div>
    </div>

    <mat-card-content>

      <div class="border border-2 border-dark rounded p-1">
        <div class="row">
          <div class="col">
            <span class="ms-1">Colaboradores</span>
          </div>
          <div class="col-auto p-0 me-3 ">
            <div class="text-end p-0 text-success">

              <mat-icon (click)="openModal(template)">person_add</mat-icon>
            </div>
          </div>
        </div>


        <!-- Lista de Colaboradores -->
        <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8 w-100">

          <!--- Note that these columns can be defined in any order.
        The actual rendered columns are set as a property on the row definition" -->

          <!-- Position Column -->
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>
            <td mat-cell *matCellDef="let element"> {{element.id}} </td>
          </ng-container>

          <!-- Name Column -->
          <ng-container matColumnDef="username">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> username </th>
            <td mat-cell *matCellDef="let element"> @{{element.username}} </td>
          </ng-container>

          <ng-container matColumnDef="aceptado">
            <th mat-header-cell *matHeaderCellDef mat-sort-header> aceptado </th>
            <td mat-cell *matCellDef="let element">
              <p *ngIf="element.acepto == true">Aceptado</p>
              <p *ngIf="element.acepto == false">Por Aceptar</p>
            </td>
          </ng-container>

          <!-- Action Column -->
          <ng-container [matColumnDef]="'actions'">
            <th mat-header-cell *matHeaderCellDef> actions </th>
            <td mat-cell *matCellDef="let element">
              <!-- <button mat-icon-button (click)="edit(element)">
                <mat-icon mat-icon-button color='primary'>edit</mat-icon>
              </button> -->
              <button mat-icon-button (click)="openBottomSheet(element)">
                <mat-icon mat-icon-button color='primary'>edit</mat-icon>
              </button>

              <button mat-icon-button (click)="delete(element['id'])">
                <mat-icon mat-icon-button color="warn">delete</mat-icon>
              </button>
            </td>
          </ng-container>


          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          <!-- <tr mat-row (click)="logData(row)" *matRowDef="let row; columns: displayedColumns;"></tr> -->
        </table>
      </div>

      <hr>
      <div mat-dialog-actions class="row justify-content-center mt-0 mb-1">

        <button mat-flat-button color="primary" class="py-0 ">Actualizar</button>
        <button mat-flat-button color="accent" class="py-0 mt-3" (click)="regresar()">Regresar</button>


      </div>
    </mat-card-content>
  </mat-card>

</div>



<!-- <pre class="card card-block card-header">Agregar Colaborador</pre> -->
<ng-template #template>
  <div class="modal-body ">
    <p>Agregar Colaborador</p>
    <mat-form-field>
      <mat-label>Correo Colaborador</mat-label>
      <input matInput type="text" [(ngModel)]="nuevoColaborador">
      <button matSuffix mat-icon-button aria-label="Clear">
        <mat-icon>close</mat-icon>
      </button>
    </mat-form-field>
    <br>
    <button type="button" class="btn btn-primary pull-right" (click)="confirm()">Agregar</button>
    <!-- <button type="button" class="btn btn-primary" (click)="decline()">No</button> -->
  </div>
</ng-template>


{{ detalleTablero | json }}
<hr>
{{ listaColaboradores | json }}
